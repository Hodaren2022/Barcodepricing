## Gemini Agent 經驗總結

### 關於 `replace` 工具的使用注意事項

`replace` 工具要求 `old_string` 參數與目標檔案中的內容進行精確的字串匹配。即使是微小的差異（例如額外的空格、換行符或縮排）也會導致匹配失敗。

**為避免 `replace` 失敗，請遵循以下最佳實踐：**

1.  **始終先讀取檔案：** 在嘗試使用 `replace` 工具修改檔案之前，請務必使用 `read_file` 工具讀取目標檔案的最新內容。
2.  **精確複製 `old_string`：** 從 `read_file` 的輸出中，精確複製您要替換的程式碼塊作為 `old_string` 參數。確保包含所有空白、換行和縮排。
3.  **避免手動修改 `old_string`：** 不要手動修改從檔案中讀取的 `old_string`，因為這很可能會引入不匹配的差異。
4.  **分階段替換複雜程式碼：** 對於較大的程式碼塊或可能包含動態內容的區域，考慮將替換操作分解為更小、更具體的步驟。
5.  **驗證替換結果：** 在執行 `replace` 操作後，再次使用 `read_file` 驗證更改是否已成功應用。
